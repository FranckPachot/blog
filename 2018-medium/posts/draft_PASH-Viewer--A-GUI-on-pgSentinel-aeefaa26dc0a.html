<!DOCTYPE html><html><head><meta http-equiv="Content-Type" content="text/html; charset=utf-8"><title>PASH Viewer: A GUI on pgSentinel</title><style>
      * {
        <!--font-family: Georgia, Cambria, "Times New Roman", Times, serif;-->
      }
      html, body {
        margin: 0;
        padding: 0;
      }
      h1 {
        font-size: 50px;
        margin-bottom: 17px;
        color: #333;
      }
      h2 {
        font-size: 24px;
        line-height: 1.6;
        margin: 30px 0 0 0;
        margin-bottom: 18px;
        margin-top: 33px;
        color: #333;
      }
      h3 {
        font-size: 30px;
        margin: 10px 0 20px 0;
        color: #333;
      }
      header {
        width: 640px;
        margin: auto;
      }
      section {
        width: 640px;
        margin: auto;
      }
      section p {
        margin-bottom: 27px;
        font-size: 20px;
        line-height: 1.6;
        color: #333;
      }
      section img {
        max-width: 640px;
      }
      footer {
        padding: 0 20px;
        margin: 50px 0;
        text-align: center;
        font-size: 12px;
      }
      .aspectRatioPlaceholder {
        max-width: auto !important;
        max-height: auto !important;
      }
      .aspectRatioPlaceholder-fill {
        padding-bottom: 0 !important;
      }
      header,
      section[data-field=subtitle],
      section[data-field=description] {
        display: none;
      }
      </style></head><body><article class="h-entry">
<header>
<h1 class="p-name">PASH Viewer: A GUI on pgSentinel</h1>
</header>
<section data-field="subtitle" class="p-summary">
Active Session Sampling for PostgreSQL
</section>
<section data-field="body" class="e-content">
<section name="22cb" class="section section--body section--first section--last"><div class="section-divider"><hr class="section-divider"></div><div class="section-content"><div class="section-inner sectionLayout--insetColumn"><h3 name="e65e" id="e65e" class="graf graf--h3 graf--leading graf--title">PASH Viewer: A GUI on pgSentinel</h3><h4 name="73b9" id="73b9" class="graf graf--h4 graf-after--h3 graf--subtitle">Active Session Sampling for PostgreSQL</h4><p name="de58" id="de58" class="graf graf--p graf--empty graf-after--h4"><br></p><div name="c433" id="c433" class="graf graf--mixtapeEmbed graf-after--p"><a href="https://indico.cern.ch/event/832846/" data-href="https://indico.cern.ch/event/832846/" class="markup--anchor markup--mixtapeEmbed-anchor" title="https://indico.cern.ch/event/832846/"><strong class="markup--strong markup--mixtapeEmbed-strong">PostgresLondon 2019 - An Oracle DBA approach to troubleshoot PostgreSQL application performance (3…</strong><br><em class="markup--em markup--mixtapeEmbed-em">An Oracle DBA approach to troubleshoot PostgreSQL application performance By Franck Pachot Coming to PostgreSQL after…</em>indico.cern.ch</a><a href="https://indico.cern.ch/event/832846/" class="js-mixtapeImage mixtapeImage u-ignoreBlock" data-media-id="5a22450c49913c8394ca308474988dbf" data-thumbnail-img-id="0*3mvJ_ZECZFtEODIa" style="background-image: url(https://cdn-images-1.medium.com/fit/c/160/160/0*3mvJ_ZECZFtEODIa);"></a></div><p name="89b9" id="89b9" class="graf graf--p graf--empty graf-after--mixtapeEmbed"><br></p><p name="2387" id="2387" class="graf graf--p graf--empty graf-after--p"><br></p><p name="149d" id="149d" class="graf graf--p graf--empty graf-after--p"><br></p><pre name="a84d" id="a84d" class="graf graf--pre graf-after--p">git clone <a href="https://github.com/dbacvetkov/PASH-Viewer.git" data-href="https://github.com/dbacvetkov/PASH-Viewer.git" class="markup--anchor markup--pre-anchor" rel="nofollow noopener" target="_blank">https://github.com/dbacvetkov/PASH-Viewer.git</a><br><br></pre><p name="35cc" id="35cc" class="graf graf--p graf-after--pre">I show how to do on Windows as my laptop runs windows and doing it in Linux is just easier (remove the .bat extension). And, yes, even when doing some PostgreSQL stuff, I take my JAVA_HOME from Oracle Home ;)</p><pre name="61bc" id="61bc" class="graf graf--pre graf-after--p">cd /d C:\Users\fpachot\Downloads\PASH-Viewer<br>set JAVA_HOME=C:\oracle\product\18.0.0\dbhomeXE\jdk<br>gradlew.bat assembleDist</pre><figure name="6e0f" id="6e0f" class="graf graf--figure graf-after--pre"><div class="aspectRatioPlaceholder is-locked" style="max-width: 700px; max-height: 507px;"><div class="aspectRatioPlaceholder-fill" style="padding-bottom: 72.5%;"></div><img class="graf-image" data-image-id="1*UP6sWFBEiSKPJv2tw-Dn6g.png" data-width="847" data-height="614" src="https://cdn-images-1.medium.com/max/800/1*UP6sWFBEiSKPJv2tw-Dn6g.png"></div></figure><pre name="4d83" id="4d83" class="graf graf--pre graf-after--figure">cd build\distributions</pre><p name="5748" id="5748" class="graf graf--p graf-after--pre">unzip PASH-Viewer-0.4.1.zip</p><pre name="fafb" id="fafb" class="graf graf--pre graf-after--p">PASH-Viewer-0.4.1\bin\PASH-Viewer.bat</pre><p name="c51e" id="c51e" class="graf graf--p graf--empty graf-after--pre"><br></p><figure name="9373" id="9373" class="graf graf--figure graf-after--p"><div class="aspectRatioPlaceholder is-locked" style="max-width: 700px; max-height: 288px;"><div class="aspectRatioPlaceholder-fill" style="padding-bottom: 41.199999999999996%;"></div><img class="graf-image" data-image-id="1*CdPb1BqQR_7cqYt24gkGow.png" data-width="1261" data-height="519" src="https://cdn-images-1.medium.com/max/800/1*CdPb1BqQR_7cqYt24gkGow.png"></div></figure><p name="c068" id="c068" class="graf graf--p graf--empty graf-after--figure"><br></p><p name="5e48" id="5e48" class="graf graf--p graf-after--p">How do you know that PASH Viewer had been able to read the pgSentinel pg_active_session_history? This is visible in the window title with the mention of “with ASH support” after the version. Here is an example where the left window was started on a database where I’ve not run </p></div><div class="section-inner sectionLayout--outsetColumn"><figure name="2a27" id="2a27" class="graf graf--figure graf--layoutOutsetCenter graf-after--p"><div class="aspectRatioPlaceholder is-locked" style="max-width: 1032px; max-height: 313px;"><div class="aspectRatioPlaceholder-fill" style="padding-bottom: 30.3%;"></div><img class="graf-image" data-image-id="1*hyO3frb1Ce-9zpHwVdfv7w.png" data-width="2736" data-height="829" src="https://cdn-images-1.medium.com/max/1200/1*hyO3frb1Ce-9zpHwVdfv7w.png"></div><figcaption class="imageCaption">PASH Viewer with ASH support</figcaption></figure></div><div class="section-inner sectionLayout--insetColumn"><pre name="5d28" id="5d28" class="graf graf--pre graf-after--figure">SELECT<br>        ash_time<br>        ,datname<br>        ,pid<br>        ,usesysid<br>        ,usename<br>        ,application_name<br>        ,backend_type<br>        ,COALESCE (<br>            client_hostname<br>            ,client_addr : : text<br>            ,$1<br>        ) AS client_hostname<br>        ,wait_event_type<br>        ,wait_event<br>        ,query<br>        ,queryid<br>        ,COALESCE (<br>            query_start<br>            ,xact_start<br>            ,backend_start<br>        ) AS query_start<br>        ,$2 * EXTRACT (<br>            epoch<br>        FROM<br>            (<br>                ash_time - COALESCE (<br>                    query_start<br>                    ,xact_start<br>                    ,backend_start<br>                )<br>            )<br>        ) AS duration<br>    FROM<br>        pg_active_session_history<br>    WHERE<br>        state = $3<br>        AND pid ! = pg_backend_pid (<br>        )<br>        AND ash_time &gt; $1</pre><p name="7dce" id="7dce" class="graf graf--p graf--empty graf-after--pre"><br></p></div><div class="section-inner sectionLayout--outsetColumn"><figure name="d176" id="d176" class="graf graf--figure graf--layoutOutsetCenter graf-after--p"><div class="aspectRatioPlaceholder is-locked" style="max-width: 1032px; max-height: 661px;"><div class="aspectRatioPlaceholder-fill" style="padding-bottom: 64%;"></div><img class="graf-image" data-image-id="1*INEsJ4zdqJH0YBueC5hAtg.png" data-width="2729" data-height="1747" src="https://cdn-images-1.medium.com/max/1200/1*INEsJ4zdqJH0YBueC5hAtg.png"></div></figure></div><div class="section-inner sectionLayout--insetColumn"><p name="92f9" id="92f9" class="graf graf--p graf--empty graf-after--figure"><br></p><p name="c537" id="c537" class="graf graf--p graf--empty graf-after--p"><br></p><p name="ec78" id="ec78" class="graf graf--p graf--empty graf-after--p graf--trailing"><br></p></div></div></section>
</section>
<footer><p><a href="https://medium.com/p/aeefaa26dc0a">View original.</a></p><p>Exported from <a href="https://medium.com">Medium</a> on July 27, 2019.</p></footer></article></body></html>